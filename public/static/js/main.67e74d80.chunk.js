(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,t,a){e.exports=a(175)},126:function(e,t,a){},145:function(e,t,a){},172:function(e,t){},175:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),l=a.n(o),s=(a(126),a(42)),c=a(20),i=a(16),m=a(23),u=a(21),E=a(24),p=a(43),d=a(224),h=a(232),g=a(225),f=a(226),S=a(218),b=a(229),O=a(233),y=a(231),C=a(5),v=a(76),k=a(110),N=a.n(k),w=a(207),j=a(208),R=a(209),D=a(210),T=a(227),_=a(213),U=a(214),A=a(215),M=a(204),x=a(102),I=a.n(x),G=a(103),W=a.n(G);var L=function(e){var t=e.message,a=e.variant;return console.log(e),"error"===a?r.a.createElement(M.a,{style:{backgroundColor:"#d22e2e"},message:r.a.createElement("span",{style:{display:"flex",alignItems:"center"}},r.a.createElement(I.a,{style:{fontSize:20,opacity:.9,marginRight:25}}),t)}):"success"===a?r.a.createElement(M.a,{style:{backgroundColor:"#46C646"},message:r.a.createElement("span",{style:{display:"flex",alignItems:"center"}},r.a.createElement(W.a,{style:{fontSize:20,opacity:.9,marginRight:25}}),t)}):r.a.createElement("h4",null,"NO CONTENT")},B=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={dialogOpen:!0,snackbarOpen:!1,fullName:null},a.handleDialogClose=function(){var e=a.state.fullName;!e||""===e.trim()||e.trim().split(" ").length<2?a.setState({snackbarOpen:!0}):(a.setState({dialogOpen:!1,snackbarOpen:!1}),localStorage.setItem("USER_FULLNAME",e.trim()),a.props.onDone(e.trim()))},a.handleSnakbarClose=function(e,t){"clickaway"!==t&&a.setState({snackbarOpen:!1})},a.handleNameChanged=function(e){a.setState({fullName:e.target.value})},a}return Object(E.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.fullScreen;return r.a.createElement("div",null,r.a.createElement(w.a,{fullScreen:t,open:this.state.dialogOpen},r.a.createElement(j.a,null,"Your Name"),r.a.createElement(R.a,null,r.a.createElement(D.a,null,"To enter chat room you should enter your name."),r.a.createElement("form",{autoComplete:"off"},r.a.createElement(T.a,{margin:"normal",label:"Full Name",variant:"outlined",onChange:this.handleNameChanged,onKeyPress:function(t){"Enter"===t.key&&(e.handleDialogClose(),t.preventDefault())},fullWidth:!0}))),r.a.createElement(_.a,null,r.a.createElement(U.a,{color:"primary",onClick:this.handleDialogClose},"Done"))),r.a.createElement(y.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.snackbarOpen,onClose:this.handleSnakbarClose,autoHideDuration:3e3},r.a.createElement(L,{message:"You should enter first and last name!",variant:"error"})))}}]),t}(n.Component),P=Object(A.a)()(B),z=a(62),F=a(216),Y=a(230),H=a(217),J=a(39),K=a.n(J),V=a(106),$=a.n(V),q=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={text:""},a.handleMessageChanged=function(e){a.setState({text:e.target.value})},a.handleSendMessage=function(e){e&&""!==e.trim()&&a.props.onSend(e)&&a.setState({text:""})},a}return Object(E.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.text,a=this.props.user.fullname;return r.a.createElement(z.a,{style:{display:"flex",alignItems:"center",width:"100%"},elevation:0},r.a.createElement(F.a,{style:{margin:8,backgroundColor:K.a[600]}},a.split(" ")[0][0].toUpperCase(),a.split(" ")[1][0].toUpperCase()),r.a.createElement(Y.a,{style:{marginLeft:8,marginRight:8,flex:1},onChange:this.handleMessageChanged,placeholder:"Type a message...",value:t,onKeyPress:function(a){"Enter"===a.key&&(e.handleSendMessage(t),a.preventDefault())}}),r.a.createElement(H.a,{style:{width:1,height:64}}),r.a.createElement(S.a,{color:"primary",style:{marginLeft:8},"aria-label":"Send",onClick:function(){return e.handleSendMessage(t)}},r.a.createElement($.a,null)))}}]),t}(n.Component),Q=a(212),X=a(219),Z=a(107),ee=a.n(Z),te=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.users;return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{elevation:0,style:{display:"flex",alignItems:"center",justifyContent:"center",margin:8,color:"#808080"}},r.a.createElement(ee.a,null),r.a.createElement("h3",{style:{marginLeft:8}},"Connected People")),r.a.createElement(H.a,{style:{height:1,width:"100%"}}),e.length>0?r.a.createElement(Q.a,{component:"nav"},e.map(function(e){return r.a.createElement(X.a,{key:e.id,button:!0},r.a.createElement(F.a,{style:{backgroundColor:K.a[600],marginRight:16}},e.fullname.split(" ")[0][0].toUpperCase(),e.fullname.split(" ")[1][0].toUpperCase()),r.a.createElement("h5",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",marginRight:8}},e.fullname))})):r.a.createElement("h5",{style:{color:"#808080",marginRight:8,marginLeft:8,marginTop:32,textAlign:"center"}},"No one connected yet!"))}}]),t}(n.Component),ae=a(223),ne=a(220),re=a(221),oe=a(222),le=a(34),se=a(108),ce=a.n(se),ie=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.message,t=e.text,a=e.sender,n=e.time;return a?r.a.createElement(X.a,null,r.a.createElement(ne.a,{style:{width:"100%"}},r.a.createElement(re.a,{avatar:r.a.createElement(F.a,{style:{backgroundColor:K.a[600]}},a.fullname.split(" ")[0][0].toUpperCase(),a.fullname.split(" ")[1][0].toUpperCase()),title:a.fullname,subheader:ce()(n,"dddd, mmmm dS, yyyy, h:MM:ss TT")}),r.a.createElement(oe.a,null,r.a.createElement(le.a,{component:"p",style:{wordBreak:"break-all"}},t)))):null}}]),t}(n.Component),me=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.messages;return r.a.createElement(ae.a,{style:{margin:0,width:"100%"}},e.map(function(e){return r.a.createElement(ie,{key:e.id,message:e})}))}}]),t}(n.Component),ue=(a(145),a(109)),Ee=a.n(ue)()("/"),pe=function(e){return Ee.on("connect",function(){e("connect",Ee.id),console.log("connect",Ee.id)}),Ee.on("CONNECTED_USERS",function(t){e("CONNECTED_USERS",t),console.log("CONNECTED_USERS",t)}),Ee.on("SENT_MESSAGES",function(t){e("SENT_MESSAGES",t),console.log("SENT_MESSAGES",t)}),Ee.on("NEW_USER",function(t){e("NEW_USER",t),console.log("NEW_USER",t)}),Ee.on("USER_ID",function(t){e("USER_ID",t),console.log("USER_ID",t)}),Ee.on("NEW_MESSAGE",function(t){e("NEW_MESSAGE",t),console.log("NEW_MESSAGE",t)}),Ee.on("MESSAGE_DETAILS",function(t){e("MESSAGE_DETAILS",t),console.log("MESSAGE_DETAILS",t)}),Ee.on("USER_DISCONNECTED",function(t){e("USER_DISCONNECTED",t),console.log("USER_DISCONNECTED",t)}),Ee.on("ERROR",function(t){e("ERROR",t),console.log("ERROR",t)}),Ee.on("disconnect",function(t){"io server disconnect"===t?Ee.connect():e("disconnect","You are not connected...")}),Ee},de=function(e){return Ee.emit("NEW_USER",e)},he=function(e){return Ee.emit("NEW_MESSAGE",e)},ge=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).socket=pe(function(e,t){switch(e){case"connect":a.setState({message:"Connection established!"}),setTimeout(function(){return a.setState({connected:!0,message:null})},1500);break;case"CONNECTED_USERS":a.setState({users:t});break;case"SENT_MESSAGES":a.setState({messages:t}),setTimeout(function(){return v.animateScroll.scrollToBottom()},250);break;case"NEW_USER":var n=Object(s.a)(a.state.users);n.push(t),a.setState({users:n});break;case"USER_ID":a.setState({user:t,loading:!1});break;case"NEW_MESSAGE":case"MESSAGE_DETAILS":var r=Object(s.a)(a.state.messages);r.push(t),a.setState({messages:r}),v.animateScroll.scrollToBottom();break;case"USER_DISCONNECTED":var o=Object(s.a)(a.state.users).filter(function(e){return e.id!==t.id});a.setState({users:o});break;case"ERROR":a.setState({snackbarOpen:!0,message:t}),setTimeout(function(){return document.location.reload(!0)},3500);break;case"disconnect":a.setState({connected:!1,message:t})}}),a.onNameSelected=function(e){a.setState({loading:!0}),de(e)},a.handleDrawerToggle=function(){a.setState(function(e){return{mobileOpen:!e.mobileOpen}})},a.handleSnakbarClose=function(e,t){"clickaway"!==t&&a.setState({snackbarOpen:!1,message:null})},a.onSend=function(e){return a.state.connected&&he(e),a.state.connected},a.getSnackbarVariant=function(){var e=a.state,t=e.message,n=e.connected,r=e.snackbarOpen;return"Connection established!"===t?"success":r||!n?"error":"success"},a.state={user:null,loading:!0,mobileOpen:!1,snackbarOpen:!1,message:null,connected:!0,messages:[],users:[]};var n=localStorage.getItem("USER_FULLNAME");return n?de(n):a.state.loading=!1,a}return Object(E.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.messages,a=e.user,n=e.users,o=e.loading,l=e.message,s=e.connected,c=e.snackbarOpen,i=this.props,m=i.classes,u=i.theme;if(o)return r.a.createElement("div",{className:"App-header"},r.a.createElement(d.a,{color:"secondary"}));if(!a)return r.a.createElement("div",{className:"App-header"},r.a.createElement(P,{className:"App-header",onDone:this.onNameSelected}));var E=r.a.createElement("div",{style:{width:this.state.drawerWidth,marginTop:24}},r.a.createElement(te,{users:n}));return r.a.createElement("div",{className:m.root},r.a.createElement(h.a,null),r.a.createElement(g.a,{position:"fixed",className:m.appBar},r.a.createElement(f.a,null,r.a.createElement(S.a,{"aria-label":"Open drawer",onClick:this.handleDrawerToggle,className:m.menuButton},r.a.createElement(N.a,null)),r.a.createElement(q,{user:a,onSend:this.onSend}))),r.a.createElement("nav",{className:m.drawer},r.a.createElement(b.a,{smUp:!0,implementation:"css"},r.a.createElement(O.a,{container:this.props.container,variant:"temporary",anchor:"rtl"===u.direction?"right":"left",open:this.state.mobileOpen,onClose:this.handleDrawerToggle,classes:{paper:m.drawerPaper}},E)),r.a.createElement(b.a,{xsDown:!0,implementation:"css"},r.a.createElement(O.a,{classes:{paper:m.drawerPaper},variant:"permanent",open:!0},E))),r.a.createElement("main",{className:m.content},r.a.createElement(me,{messages:t}),r.a.createElement(y.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:c|!s,onClose:c&s&&this.handleSnakbarClose,autoHideDuration:c&s&&3e3},r.a.createElement(L,{message:l,variant:this.getSnackbarVariant()})),r.a.createElement("div",{className:m.toolbar})))}}]),t}(n.Component),fe=Object(C.a)(function(e){var t;return{root:{display:"flex"},drawer:Object(p.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:(t={marginLeft:240,backgroundColor:"#ffffff"},Object(p.a)(t,e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)")}),Object(p.a)(t,"top","auto"),Object(p.a)(t,"bottom",0),t),menuButton:Object(p.a)({color:"#808080"},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:3*e.spacing.unit}}},{withTheme:!0})(ge);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[121,1,2]]]);
//# sourceMappingURL=main.67e74d80.chunk.js.map